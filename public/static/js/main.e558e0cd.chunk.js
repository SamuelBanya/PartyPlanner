(this["webpackJsonpphase-4-rails-putting-it-all-together-auth-client"]=this["webpackJsonpphase-4-rails-putting-it-all-together-auth-client"]||[]).push([[0],{48:function(e,t,n){"use strict";n.r(t);var a,c,i,o,r=n(6),s=n(1),j=n.n(s),b=n(33),l=n.n(b),d=n(8),u=n(3),h=n(4),O=n(12),m=n(7),p=(m.b.div(a||(a=Object(r.a)(["\n  border-radius: 6px;\n  box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%),\n    0 0 0 1px rgb(10 10 10 / 2%);\n  padding: 16px;\n"]))),n(9)),x=n(38),f=n(0),y=["variant","color"],v={primary:{"--main":"blue","--accent":"white"},secondary:{"--main":"seashell","--accent":"orangered"}};var g,P,C,S,_,I,w,E=m.b.button(c||(c=Object(r.a)(["\n  cursor: pointer;\n  font-size: 1rem;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 8px 16px;\n  text-decoration: none;\n"]))),L=Object(m.b)(E)(i||(i=Object(r.a)(["\n  background-color: var(--main);\n  color: var(--accent);\n\n  &:hover {\n    opacity: 0.9;\n  }\n"]))),A=Object(m.b)(E)(o||(o=Object(r.a)(["\n  background-color: white;\n  color: var(--main);\n  border: 2px solid var(--main);\n\n  &:hover {\n    background: hsl(235deg 85% 97%);\n  }\n"]))),T=function(e){var t,n=e.variant,a=void 0===n?"fill":n,c=e.color,i=void 0===c?"primary":c,o=Object(x.a)(e,y);return"fill"===a?t=L:"outline"===a&&(t=A),Object(f.jsx)(t,Object(p.a)({style:v[i]},o))},k=m.b.div(g||(g=Object(r.a)(["\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))),F=m.b.input(P||(P=Object(r.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n"]))),D=m.b.label(C||(C=Object(r.a)(["\n  color: #363636;\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n"])));m.b.textarea(S||(S=Object(r.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n  resize: none;\n"])));var N,U,J,z=m.b.div(_||(_=Object(r.a)(["\n  color: red;\n  background-color: mistyrose;\n  border-radius: 6px;\n  display: flex;\n  padding: 8px;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n"]))),M=m.b.span(I||(I=Object(r.a)(["\n  background-color: white;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  font-weight: bold;\n  display: grid;\n  place-content: center;\n"]))),H=m.b.p(w||(w=Object(r.a)(["\n  margin: 0;\n"]))),R=function(e){var t=e.children;return Object(f.jsxs)(z,{children:[Object(f.jsx)(M,{children:"!"}),Object(f.jsx)(H,{children:t})]})};var G=m.b.div(N||(N=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n"]))),B=m.b.h1(U||(U=Object(r.a)(['\n  font-family: "Permanent Marker", cursive;\n  font-size: 2rem;\n  color: blue;\n  margin: 0;\n  line-height: 1;\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n']))),Q=m.b.nav(J||(J=Object(r.a)(["\n  display: flex;\n  gap: 4px;\n  position: absolute;\n  left: 20px;\n"]))),V=function(e){e.user;var t=e.setUser;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(G,{children:[Object(f.jsx)(B,{children:Object(f.jsx)("h1",{children:"Party Planner"})}),Object(f.jsxs)(Q,{children:[Object(f.jsx)(T,{as:O.b,to:"/",children:"About"}),Object(f.jsx)(T,{as:O.b,to:"/parties",children:"Parties"}),Object(f.jsx)(T,{as:O.b,to:"/items",children:"Items"}),Object(f.jsx)(T,{as:O.b,to:"/location",children:"Location"}),Object(f.jsx)(T,{as:O.b,to:"/summary",children:"View All Parties"}),Object(f.jsx)(T,{variant:"outline",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})]})]})})};var q=function(e){var t=e.onLogin,n=Object(s.useState)(""),a=Object(u.a)(n,2),c=a[0],i=a[1],o=Object(s.useState)(""),r=Object(u.a)(o,2),j=r[0],b=r[1],l=Object(s.useState)([]),d=Object(u.a)(l,2),h=(d[0],d[1]),O=Object(s.useState)(!1),m=Object(u.a)(O,2),p=m[0],x=m[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:j})}).then((function(e){x(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return h(e.errors)}))}))},children:[Object(f.jsxs)(k,{children:[Object(f.jsx)(D,{htmlFor:"username",children:"Username"}),Object(f.jsx)(F,{type:"text",id:"username",autoComplete:"off",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)(k,{children:[Object(f.jsx)(D,{htmlFor:"password",children:"Password"}),Object(f.jsx)(F,{type:"password",id:"password",autoComplete:"current-password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(f.jsx)(k,{children:Object(f.jsx)(T,{variant:"fill",color:"primary",type:"submit",children:p?"Loading...":"Login"})})]})};var K,W,X,Y=function(e){var t=e.onLogin,n=Object(s.useState)(""),a=Object(u.a)(n,2),c=a[0],i=a[1],o=Object(s.useState)(""),r=Object(u.a)(o,2),j=r[0],b=r[1],l=Object(s.useState)(""),d=Object(u.a)(l,2),h=d[0],O=d[1],m=Object(s.useState)([]),p=Object(u.a)(m,2),x=p[0],y=p[1],v=Object(s.useState)(!1),g=Object(u.a)(v,2),P=g[0],C=g[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y([]),C(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:j,password_confirmation:h})}).then((function(e){C(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return y(e.errors)}))}))},children:[Object(f.jsxs)(k,{children:[Object(f.jsx)(D,{htmlFor:"username",children:"Username"}),Object(f.jsx)(F,{type:"text",id:"username",autoComplete:"off",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)(k,{children:[Object(f.jsx)(D,{htmlFor:"password",children:"Password"}),Object(f.jsx)(F,{type:"password",id:"password",value:j,onChange:function(e){return b(e.target.value)},autoComplete:"current-password"})]}),Object(f.jsxs)(k,{children:[Object(f.jsx)(D,{htmlFor:"password",children:"Password Confirmation"}),Object(f.jsx)(F,{type:"password",id:"password_confirmation",value:h,onChange:function(e){return O(e.target.value)},autoComplete:"current-password"})]}),Object(f.jsx)(k,{children:Object(f.jsx)(T,{type:"submit",children:P?"Loading...":"Sign Up"})}),Object(f.jsx)(k,{children:x.map((function(e){return Object(f.jsx)(R,{children:e},e)}))})]})};var Z=m.b.h1(K||(K=Object(r.a)(['\n  font-family: "Permanent Marker", cursive;\n  font-size: 3rem;\n  color: blue;\n  margin: 8px 0 16px;\n']))),$=m.b.section(W||(W=Object(r.a)(["\n  max-width: 500px;\n  margin: 40px auto;\n  padding: 16px;\n"]))),ee=m.b.hr(X||(X=Object(r.a)(["\n  border: none;\n  border-bottom: 1px solid #ccc;\n  margin: 16px 0;\n"]))),te=function(e){var t=e.onLogin,n=Object(s.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(f.jsxs)($,{children:[Object(f.jsx)(Z,{children:"Party Planner"}),c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(q,{onLogin:t}),Object(f.jsx)(ee,{}),Object(f.jsxs)("p",{children:["Don't have an account? \xa0",Object(f.jsx)(T,{color:"secondary",onClick:function(){return i(!1)},children:"Sign Up"})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Y,{onLogin:t}),Object(f.jsx)(ee,{}),Object(f.jsxs)("p",{children:["Already have an account? \xa0",Object(f.jsx)(T,{color:"secondary",onClick:function(){return i(!0)},children:"Log In"})]})]})]})};var ne=function(e){return e.user,Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"About Page"}),Object(f.jsx)("p",{children:"This app is a Full Stack web application made with React, Ruby On Rails, and PostgresSQL that allows a user to plan a party with their friends!"}),Object(f.jsx)("h2",{children:"Current Functions"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Login page where a user can create an account, and login to the site"}),Object(f.jsx)("li",{children:"The ability to create a party with a start and end time"}),Object(f.jsx)("li",{children:"The ability to add new items to an existing party as well as edit or delete the items"}),Object(f.jsx)("li",{children:"The ability to create, edit, and delete a item"}),Object(f.jsx)("li",{children:"The ability to display a summary page to view all users' parties"})]}),Object(f.jsx)("h2",{children:"Roadmap Items"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Timestamp selection to easily pick timestamp for each party"}),Object(f.jsx)("li",{children:"Ability to utilize a map library from NPM for the 'Summary' page"}),Object(f.jsx)("li",{children:"Use of MaterialUI throughout the project itself"})]})]})},ae=n(5);var ce=function(e){var t=e.onAddParty,n=Object(s.useState)({name:"",start_time:"",end_time:""}),a=Object(u.a)(n,2),c=a[0],i=a[1],o=function(e){i(Object(p.a)(Object(p.a)({},c),{},Object(ae.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Add New Party"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/parties",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:c.name,start_time:c.start_time,end_time:c.end_time})}).then((function(e){return e.json()})).then((function(e){return t(e)}))},children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name of Party:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:o,type:"text",id:"name",name:"name"}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{htmlFor:"start_time",children:"Start Time of Party:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:o,type:"text",id:"start_time",name:"start_time"}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{htmlFor:"end_time",children:"End Time of Party:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:o,type:"text",id:"end_time",name:"end_time"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"submit"})]})]})};var ie=function(e){var t=e.parties,n=e.onChooseParty,a=t.map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.id)}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Choose Party: "}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{htmlFor:"choose_party",children:"Choose a Party:"}),Object(f.jsx)("br",{}),Object(f.jsxs)("select",{name:"choose_party",id:"choose_party",onChange:n,children:[Object(f.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" -- Select a party -- "}),a]}),Object(f.jsx)("br",{})]})]})};var oe=function(e){var t=e.parties,n=e.onChooseParty,a=e.onEditParty,c=e.onDeleteParty,i=e.chosenParty;Object(s.useEffect)((function(){b({name:i.name,start_time:i.start_time,end_time:i.end_time})}),[i]);var o=Object(s.useState)({name:i.name,start_time:i.start_time,end_time:i.end_time}),r=Object(u.a)(o,2),j=r[0],b=r[1],l=function(e){b(Object(p.a)(Object(p.a)({},j),{},Object(ae.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)("div",{children:[Object(f.jsx)(ie,{parties:t,onChooseParty:n}),Object(f.jsx)("h2",{children:"Edit Party"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name of Party:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:l,type:"text",id:"name",name:"name",value:j.name}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{htmlFor:"start_time",children:"Start Time of Party:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:l,type:"text",id:"start_time",name:"start_time",value:j.start_time}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{htmlFor:"end_time",children:"End Time of Party:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:l,type:"text",id:"end_time",name:"end_time",value:j.end_time}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=i.id;fetch("/parties/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:j.name,start_time:j.start_time,end_time:j.end_time})}).then((function(e){return e.json()})).then((function(e){return a(e)}))},type:"submit",value:"Edit"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=i.id;fetch("/parties/".concat(t),{method:"DELETE"}).then((function(e){e.ok&&c(i)}))},type:"submit",value:"Delete"})]})]})};var re=function(e){var t=e.parties,n=e.onFetchParties,a=e.onAddParty,c=e.onEditParty,i=e.onDeleteParty,o=e.onChooseParty,r=e.chosenParty;Object(s.useEffect)((function(){fetch("/parties",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]);var j=Object(s.useState)(!1),b=Object(u.a)(j,2),l=b[0],d=b[1],h=Object(s.useState)(!1),O=Object(u.a)(h,2),m=O[0],p=O[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Parties"}),Object(f.jsx)("button",{onClick:function(){d(!l)},children:"Add Parties"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){p(!m)},children:"Edit Parties"}),Object(f.jsx)("br",{}),l&&Object(f.jsx)(ce,{onAddParty:a}),l&&m&&Object(f.jsx)("hr",{}),m&&Object(f.jsx)(oe,{onEditParty:c,onDeleteParty:i,parties:t,onChooseParty:o,chosenParty:r})]})},se=n(37),je=n.n(se);var be=function(e){var t=e.onAddItem,n=e.parties,a=e.onChooseParty,c=e.chosenParty,i=Object(s.useState)({name:""}),o=Object(u.a)(i,2),r=o[0],j=o[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(ie,{parties:n,onChooseParty:a}),Object(f.jsx)("h2",{children:"Add New Item"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name of Item:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:function(e){j(Object(p.a)(Object(p.a)({},r),{},Object(ae.a)({},e.target.name,e.target.value)))},type:"text",id:"name",name:"item_name"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var n=c.id;fetch("/parties/".concat(n,"/items"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:r.item_name,party_id:n})}).then((function(e){return e.json()})).then((function(e){t(e),je()("New item added!")}))},type:"submit"})]})]})};var le=function(e){var t=e.itemOptions,n=(e.setItemOptions,e.itemId),a=(e.setItemId,e.onChangeItemInfo),c=e.onEditItem,i=e.onDeleteItem,o=e.parties,r=e.onChooseParty,j=e.chosenParty,b=Object(s.useState)({item_name:""}),l=Object(u.a)(b,2),d=l[0],h=l[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(ie,{parties:o,onChooseParty:r}),Object(f.jsx)("h2",{children:"Edit Item"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{htmlFor:"item_select",children:"Choose an Item:"}),Object(f.jsx)("br",{}),Object(f.jsxs)("select",{name:"item_select",id:"item_select",onChange:function(e){var n=t.find((function(t){return t.props.value===e.target.value})).props.value;h({item_name:n});var c=j.items.find((function(e){return e.name===n})),i=j.items.map((function(e){return e.name})).indexOf(n),o=c.id;a(o,i)},children:[Object(f.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" -- Select an item -- "}),t]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{htmlFor:"name",children:"Name of Item:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:function(e){h(Object(p.a)(Object(p.a)({},d),{},Object(ae.a)({},e.target.name,e.target.value)))},type:"text",id:"name",name:"item_name",value:d.item_name}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=j.id;fetch("/parties/".concat(t,"/items/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:d.item_name,party_id:t})}).then((function(e){return e.json()})).then((function(e){return c(e)}))},type:"submit",value:"Edit"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=j.id;fetch("/parties/".concat(t,"/items/").concat(n),{method:"DELETE"}).then((function(e){e.ok&&i(e,n)}))},type:"submit",value:"Delete"})]})]})};var de=function(e){var t=e.onAddItem,n=e.itemOptions,a=e.setItemOptions,c=e.itemId,i=e.setItemId,o=e.onChangeItemInfo,r=e.onEditItem,j=e.onDeleteItem,b=e.parties,l=e.onChooseParty,d=e.chosenParty,h=e.onFetchParties;Object(s.useEffect)((function(){fetch("/parties",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){h(e)}))}),[]);var O=Object(s.useState)(!1),m=Object(u.a)(O,2),p=m[0],x=m[1],y=Object(s.useState)(!1),v=Object(u.a)(y,2),g=v[0],P=v[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Items"}),Object(f.jsx)("button",{onClick:function(){x(!p)},children:"Add Items"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){P(!g)},children:"Edit Items"}),Object(f.jsx)("br",{}),p&&Object(f.jsx)(be,{onAddItem:t,parties:b,onChooseParty:l,chosenParty:d}),p&&g&&Object(f.jsx)("hr",{}),g&&Object(f.jsx)(le,{itemOptions:n,setItemOptions:a,itemId:c,setItemId:i,onChangeItemInfo:o,onEditItem:r,onDeleteItem:j,parties:b,onChooseParty:l,chosenParty:d})]})};var ue=function(e){var t=e.parties,n=e.onChooseParty,a=e.onAddLocation,c=e.chosenParty,i=Object(s.useState)({name:""}),o=Object(u.a)(i,2),r=o[0],j=o[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(ie,{parties:t,onChooseParty:n}),Object(f.jsx)("h2",{children:"Add Location"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name of Location:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:function(e){j(Object(p.a)(Object(p.a)({},r),{},Object(ae.a)({},e.target.name,e.target.value)))},type:"text",id:"name",name:"location_name"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=c.id;fetch("/parties/".concat(t,"/location"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:r.location_name,party_id:t})}).then((function(e){return e.json()})).then((function(e){return a(e)}))},type:"submit"})]})]})};var he=function(e){var t=e.locationOptions,n=(e.setLocationOptions,e.locationId),a=(e.setLocationId,e.onChangeLocationInfo),c=e.onEditLocation,i=e.onDeleteLocation,o=e.parties,r=e.onChooseParty,j=e.chosenParty,b=Object(s.useState)({location_name:""}),l=Object(u.a)(b,2),d=l[0],h=l[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(ie,{parties:o,onChooseParty:r}),Object(f.jsx)("h2",{children:"Edit Location"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{htmlFor:"location_select",children:"Choose the Location:"}),Object(f.jsx)("br",{}),Object(f.jsxs)("select",{name:"location_select",id:"location_select",onChange:function(e){var n=t.find((function(t){return t.props.value===e.target.value})).props.value;h({location_name:n});var c=j.location.find((function(e){return e.name===n})),i=j.location.map((function(e){return e.name})).indexOf(n),o=c.id;a(o,i)},children:[Object(f.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" -- Select a location -- "}),t]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{htmlFor:"name",children:"Name of Location:"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onChange:function(e){h(Object(p.a)(Object(p.a)({},d),{},Object(ae.a)({},e.target.name,e.target.value)))},type:"text",id:"name",name:"location_name",value:d.location_name}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=j.id;fetch("/parties/".concat(t,"/location/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:d.location_name,party_id:t})}).then((function(e){return e.json()})).then((function(e){return c(e)}))},type:"submit",value:"Edit"}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{onClick:function(e){e.preventDefault();var t=j.id;fetch("/parties/".concat(t,"/location/").concat(n),{method:"DELETE"}).then((function(e){e.ok&&i(e,n)}))},type:"submit",value:"Delete"})]})]})};var Oe=function(e){var t=e.parties,n=e.onFetchParties,a=e.onAddLocation,c=e.onEditLocation,i=e.onDeleteLocation,o=e.onChooseParty,r=e.chosenParty;Object(s.useEffect)((function(){fetch("/parties",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]);var j=Object(s.useState)(!1),b=Object(u.a)(j,2),l=b[0],d=b[1],h=Object(s.useState)(!1),O=Object(u.a)(h,2),m=O[0],p=O[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Locations"}),Object(f.jsx)("button",{onClick:function(){d(!l)},children:"Add Location"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){p(!m)},children:"Edit Location"}),Object(f.jsx)("br",{}),l&&Object(f.jsx)(ue,{onAddLocation:a}),l&&m&&Object(f.jsx)("hr",{}),m&&Object(f.jsx)(he,{onEditLocation:c,onDeleteLocation:i,parties:t,onChooseParty:o,chosenParty:r})]})};var me=function(e){var t=e.parties,n=e.onFetchParties;Object(s.useEffect)((function(){fetch("/parties",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]);var a=t.map((function(e){var t=e.items.map((function(e){return Object(f.jsx)("li",{children:e.name},e.id)})),n=[];e.users.map((function(e){n.push(e)}));var a=Object(d.a)(new Set(n.map((function(e){return e.username})))),c=a.map((function(e){return Object(f.jsx)("li",{children:e},a.indexOf(e))}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:e.name}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Start Time"}),Object(f.jsx)("ul",{children:e.start_time}),Object(f.jsx)("li",{children:"End Time: "}),Object(f.jsx)("ul",{children:e.end_time}),Object(f.jsx)("li",{children:"Items: "}),Object(f.jsx)("ul",{children:t}),Object(f.jsx)("li",{children:"Users: "}),Object(f.jsx)("ul",{children:c})]})]})})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Summary"}),a]})};var pe,xe=function(){var e=j.a.createContext(null),t=(Object(s.useContext)(e),Object(s.useState)(null)),n=Object(u.a)(t,2),a=(n[0],n[1],Object(s.useState)(null)),c=Object(u.a)(a,2),i=c[0],o=c[1],r=Object(s.useState)([]),b=Object(u.a)(r,2),l=b[0],O=b[1],m=Object(s.useState)({}),p=Object(u.a)(m,2),x=p[0],y=p[1],v=Object(s.useState)(""),g=Object(u.a)(v,2),P=g[0],C=g[1],S=Object(s.useState)([]),_=Object(u.a)(S,2),I=_[0],w=_[1],E=Object(s.useState)(""),L=Object(u.a)(E,2),A=L[0],T=L[1],k=Object(s.useState)(""),F=Object(u.a)(k,2),D=F[0],N=F[1],U=Object(s.useState)([]),J=Object(u.a)(U,2),z=(J[0],J[1],Object(s.useState)("")),M=Object(u.a)(z,2),H=(M[0],M[1],Object(s.useState)("")),R=Object(u.a)(H,2);if(R[0],R[1],Object(s.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),Object(s.useEffect)((function(){if(x&&x.items){var e=x.items.map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.id)}));w(e)}}),[x]),!i)return Object(f.jsx)(te,{onLogin:o});function G(e){O(e)}function B(e){var t=l.find((function(t){return t.name==e.target.value}));y(t);var n=l.map((function(e){return e.name})).indexOf(e.target.value);C(n)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(V,{user:i,setUser:o}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{path:"/",element:Object(f.jsx)(ne,{user:i})}),Object(f.jsx)(h.a,{path:"/parties",element:Object(f.jsx)(re,{parties:l,onFetchParties:G,onChooseParty:B,chosenParty:x,onAddParty:function(e){var t=[].concat(Object(d.a)(l),[e]);O(t)},onEditParty:function(e){O((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))},onDeleteParty:function(e){O((function(t){return t.filter((function(t){return t.id!==e.id}))}))}})}),Object(f.jsx)(h.a,{path:"/items",element:Object(f.jsx)(de,{parties:l,onChooseParty:B,chosenParty:x,onFetchParties:G,onAddItem:function(e){l.map((function(t){if(t.id==x.id){var n=[].concat(Object(d.a)(t.items),[e]).map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.id)}));w(n);var a=Object(d.a)(l);a[P].items.push(e),O(a)}else console.log("Match not found within 'handleAddNewItem!")}))},itemOptions:I,setItemOptions:w,itemId:A,setItemId:T,onChangeItemInfo:function(e,t){T(e),N(t)},onEditItem:function(e){var t=Object(d.a)(l);t[P].items[D]=e,O(t);var n=x.items.map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.id)}));w(n)},onDeleteItem:function(e,t){var n=Object(d.a)(l);n[P].items.splice(D,1),O(n);var a=x.items.map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.id)}));w(a)}})}),Object(f.jsx)(h.a,{path:"/location",element:Object(f.jsx)(Oe,{parties:l,onFetchParties:G,onChooseParty:B,chosenParty:x,onAddLocation:function(e){console.log("---------------------------------------------------------"),console.log("handleAddLocation function called in parent App component"),console.log("---------------------------------------------------------")},onEditLocation:function(e){console.log("---------------------------------------------------------"),console.log("handleEditLocation function called in parent App component"),console.log("---------------------------------------------------------")},onDeleteLocation:function(e,t){console.log("---------------------------------------------------------"),console.log("handleDeleteLocation function called in parent App component"),console.log("---------------------------------------------------------")}})}),Object(f.jsx)(h.a,{path:"/summary",element:Object(f.jsx)(me,{parties:l,onFetchParties:G})})]})]})},fe=Object(m.a)(pe||(pe=Object(r.a)(['\n  *,\n  *::before, \n  *::after {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n  }\n\n  body {\n    font-family: BlinkMacSystemFont,-apple-system,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,Arial,sans-serif;\n  }\n'])));l.a.render(Object(f.jsxs)(O.a,{children:[Object(f.jsx)(fe,{}),Object(f.jsx)(xe,{})]}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.e558e0cd.chunk.js.map